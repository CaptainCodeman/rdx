function t(t){return(e={},s)=>{for(const i in t)e[i]=t[i](e[i],s);return e}}const e=Symbol(),s=Symbol(),i=Symbol(),n=Symbol(),a=Symbol(),o=Symbol(),c=Symbol();function r(t,r){return class extends r{constructor(...t){super(...t),this[c]=this[c].bind(this),this[s]()}connectedCallback(){let t=super.connectedCallback;t&&t(),this[i](),this[a]()}disconnectedCallback(){this[o](),this[n]();let t=super.disconnectedCallback;t&&t()}[s](){if(this[e]={},this.mapEvents){const s=this.mapEvents();for(const i in s){const n=s[i];this[e][i]=function(e){e.stopImmediatePropagation(),t.dispatch(n(e))}.bind(this)}}}[i](){for(const t in this[e])this.addEventListener(t,this[e][t],!1)}[n](){for(const t in this[e])this.removeEventListener(t,this[e][t],!1)}[a](){t.addEventListener("state",this[c]),this[c]()}[o](){this.removeEventListener("state",this[c])}[c](){this.mapState&&Object.assign(this,this.mapState(t.state))}}}function d(t){const e=window.__REDUX_DEVTOOLS_EXTENSION__;if(e){const s=e.connect();let i=!1;t.addEventListener("state",e=>{const{action:n}=e.detail;i?i=!1:s.send(n,t.state)}),s.subscribe(e=>{"DISPATCH"===e.type&&e.state&&(i=!0,t.state=JSON.parse(e.state),t.dispatch({}))}),s.init(t.state)}return t}function h(t,e){const s={name:location.hostname,filter:t=>!0,persist:t=>t,delay:0,...e},i=localStorage.getItem(s.name);i&&(t.state={...t.state,...JSON.parse(i)});let n=0;return t.addEventListener("state",e=>{const i=e,{action:a}=i.detail;s.filter(a)&&(n&&window.clearTimeout(n),n=window.setTimeout(()=>{localStorage.setItem(s.name,JSON.stringify(s.persist(t.state))),n=0},s.delay))}),t}class l extends EventTarget{constructor(t,e){super(),this.state=t,this.reducer=e,this.state=this.reducer(this.state,{})}dispatch(t){const e=new CustomEvent("dispatch",{cancelable:!0,detail:{action:t}});return this.dispatchEvent(e)&&(t=e.detail.action,this.state=this.reducer(this.state,t),this.dispatchEvent(new CustomEvent("state",{detail:{action:t}}))),t}}function u(t){const e=t.dispatch.bind(t);return t.addEventListener("dispatch",s=>{const i=s,{action:n}=i.detail;if("function"==typeof n){n(e,t.state),i.stopImmediatePropagation(),i.preventDefault()}}),t}export{l as Store,t as combineReducers,r as connect,d as devtools,h as persist,u as thunk};
//# sourceMappingURL=index.js.map
