function t(t,e){const a={name:location.hostname,filter:t=>!0,persist:t=>t,delay:0,...e},n=localStorage.getItem(a.name);n&&(t.state={...t.state,...JSON.parse(n)});let o=0;return t.addEventListener("state",e=>{const n=e,{action:s}=n.detail;a.filter(s)&&(o&&window.clearTimeout(o),o=window.setTimeout(()=>{localStorage.setItem(a.name,JSON.stringify(a.persist(t.state))),o=0},a.delay))}),t}export{t as persist};
//# sourceMappingURL=persist.js.map
