!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t=t||self).store={})}(this,(function(t){"use strict";const e=Symbol(),s=Symbol(),n=Symbol(),i=Symbol(),o=Symbol(),a=Symbol(),c=Symbol();class r extends EventTarget{constructor(t,e){super(),this.state=t,this.reducer=e,this.state=this.reducer(this.state,{})}dispatch(t){const e=new CustomEvent("dispatch",{cancelable:!0,detail:{action:t}});return this.dispatchEvent(e)&&(t=e.detail.action,this.state=this.reducer(this.state,t),this.dispatchEvent(new CustomEvent("state",{detail:{action:t}}))),t}}t.Store=r,t.combineReducers=function(t){return(e={},s)=>{for(const n in t)e[n]=t[n](e[n],s);return e}},t.connect=function(t,r){return class extends r{constructor(...t){super(...t),this[c]=this[c].bind(this),this[s]()}connectedCallback(){let t=super.connectedCallback;t&&t(),this[n](),this[o]()}disconnectedCallback(){this[a](),this[i]();let t=super.disconnectedCallback;t&&t()}[s](){if(this[e]={},this.mapEvents){const s=this.mapEvents();for(const n in s){const i=s[n];this[e][n]=function(e){e.stopImmediatePropagation(),t.dispatch(i(e))}.bind(this)}}}[n](){for(const t in this[e])this.addEventListener(t,this[e][t],!1)}[i](){for(const t in this[e])this.removeEventListener(t,this[e][t],!1)}[o](){t.addEventListener("state",this[c]),this[c]()}[a](){this.removeEventListener("state",this[c])}[c](){this.mapState&&Object.assign(this,this.mapState(t.state))}}},t.devtools=function(t){const e=window.__REDUX_DEVTOOLS_EXTENSION__;if(e){const s=e.connect();let n=!1;t.addEventListener("state",e=>{const{action:i}=e.detail;n?n=!1:s.send(i,t.state)}),s.subscribe(e=>{"DISPATCH"===e.type&&e.state&&(n=!0,t.state=JSON.parse(e.state),t.dispatch({}))}),s.init(t.state)}return t},t.persist=function(t,e){const s={name:location.hostname,filter:t=>!0,persist:t=>t,delay:0,...e},n=localStorage.getItem(s.name);n&&(t.state={...t.state,...JSON.parse(n)});let i=0;return t.addEventListener("state",e=>{const n=e,{action:o}=n.detail;s.filter(o)&&(i&&window.clearTimeout(i),i=window.setTimeout(()=>{localStorage.setItem(s.name,JSON.stringify(s.persist(t.state))),i=0},s.delay))}),t},t.thunk=function(t){const e=t.dispatch.bind(t);return t.addEventListener("dispatch",s=>{const n=s,{action:i}=n.detail;if("function"==typeof i){i(e,t.state),n.stopImmediatePropagation(),n.preventDefault()}}),t}}));
